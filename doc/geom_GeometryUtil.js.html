<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: geom/GeometryUtil.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: geom/GeometryUtil.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @class
* @classdesc Provides geometry related methods.
*/
var GeometryUtil = function () {

};

//----------------------------------------------------------------------

/**
* Returns if the rectangle contains the point.
* @param {Vector4} leftTopVertex The leftTopVertex of the rectangle.
* @param {Number} width The width of the rectangle.
* @param {Number} height The height of the rectangle.
* @param {Number} point The point.
* @returns {Boolean} True if the rectangle contains the point.
*/
GeometryUtil.testRectanglePoint = function(leftTopVertex,width,height,point, eps){
	return (leftTopVertex.x-eps &lt; point.x &amp;&amp; leftTopVertex.y+eps > point.y &amp;&amp;
	leftTopVertex.x + width +eps > point.x &amp;&amp; leftTopVertex.y - height -eps &lt; point.y);
};

//----------------------------------------------------------------------
/**
* Returns if the spheres are colliding.
* @param {Vector4} centerA The center of the A sphere.
* @param {Vector4} radiusA The radius of the A sphere.
* @param {Number} centerB The center of the B sphere.
* @param {Number} radiusB The radius of the B sphere.
* @returns {Boolean} True if the spheres are colliding.
*/
GeometryUtil.testSphereSphere = function(centerA, centerB, radiusA, radiusB){
	var distance = centerA.dst(centerB);
	return (distance &lt; radiusA+radiusB);
};

//----------------------------------------------------------------------

/**
* Returns the middle point.
* @param {Vector4} a The a point.
* @param {Vector4} b The b point.
* @returns {Vector4} The middle point.
*/
GeometryUtil.midPoint = function(a,b){
	return new Vector3((a.x+b.x)/2.0, (a.y+b.y)/2.0, (a.z+b.z)/2.0 );
};

//----------------------------------------------------------------------

/**
* Returns the closest point in a segment to the point p.
* @param {Vector4} p The p point.
* @param {Vector4} a The a point of the segment.
* @param {Vector4} b The b point of the segment.
* @returns {Vector4} The closest point.
*/
GeometryUtil.closestPointInSegment = function (p,a,b){

	var closest = null;

	var subVector = b.cpy().sub(a);

  if ((subVector.x === 0) &amp;&amp; (subVector.y === 0) &amp;&amp; (subVector.z === 0)){
      // It's a point not a line segment.
			// return P.sub(A).len();

			return a;
  }

  // Calculate the t that minimizes the distance.
	// Perpendicular Distance from a Point to a Line.
  // var t = ((p.x - a.x) * dx + (p.y - a.y) * dy + (p.z - a.z) * dz) /
  //     (dx * dx + dy * dy + dz * dz);

	var t = p.cpy().sub(a).dot(subVector)/(subVector.dot(subVector));

  // See if this represents one of the segment's
  // end points or a point in the middle.
  if (t &lt; 0){
		closest = a;
  }else if (t > 1){
		closest = b;
  }else{
    closest = a.cpy().add(subVector.mulScl(t));
  }

	return closest;
};

//----------------------------------------------------------------------

/**
* Returns the squared distance between a point and a segment.
* @param {Vector4} p The p point.
* @param {Vector4} a The a point of the segment.
* @param {Vector4} b The b point of the segment.
* @returns {Number} The squared distance.
*/
GeometryUtil.sqDistanceToSegment = function (p,a,b){

	var closest = GeometryUtil.closestPointInSegment(p,a,b);

	var subVector = p.cpy().sub(closest);

  // return (dx * dx + dy * dy + dz * dz);
	return (subVector.dot(subVector));

};

//----------------------------------------------------------------------

/**
* Returns the distance between a point and a segment.
* @param {Vector4} p The p point.
* @param {Vector4} a The a point of the segment.
* @param {Vector4} b The b point of the segment.
* @returns {Number} The distance.
*/
GeometryUtil.distanceToSegment = function (p,a,b){
	return Math.sqrt(GeometryUtil.sqDistanceToSegment(p,a,b));
};

//----------------------------------------------------------------------

/**
* Returns the closest point in a sphere to the point p.
* @param {Vector4} p The p point.
* @param {Vector4} center The center of the sphere.
* @param {Number} b The radius of the sphere.
* @returns {Vector4} The closest point.
*/
GeometryUtil.closestPointInSphere = function (p,center,radius){
	var pToCenter = p.cpy().sub(center);

	var radiusVector = pToCenter.nor().mulScl(radius); // vector with length = radius

	var closestPoint = center.cpy().add(radiusVector);

	return closestPoint;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Animation.html">Animation</a></li><li><a href="AnimationFrame.html">AnimationFrame</a></li><li><a href="BaseObject.html">BaseObject</a></li><li><a href="Camera.html">Camera</a></li><li><a href="Color.html">Color</a></li><li><a href="Component.html">Component</a></li><li><a href="CubeMesh.html">CubeMesh</a></li><li><a href="DebugRenderer.html">DebugRenderer</a></li><li><a href="Engine.html">Engine</a></li><li><a href="Frustum.html">Frustum</a></li><li><a href="GameObject.html">GameObject</a></li><li><a href="GeometryUtil.html">GeometryUtil</a></li><li><a href="Input.html">Input</a></li><li><a href="LineRenderer.html">LineRenderer</a></li><li><a href="Loader.html">Loader</a></li><li><a href="Material.html">Material</a></li><li><a href="Matrix4.html">Matrix4</a></li><li><a href="Mesh.html">Mesh</a></li><li><a href="MeshRenderer.html">MeshRenderer</a></li><li><a href="OrthoCamera.html">OrthoCamera</a></li><li><a href="PerspectiveCamera.html">PerspectiveCamera</a></li><li><a href="RectangleMesh.html">RectangleMesh</a></li><li><a href="RenderContext.html">RenderContext</a></li><li><a href="RenderEngine.html">RenderEngine</a></li><li><a href="Scene.html">Scene</a></li><li><a href="Shader.html">Shader</a></li><li><a href="SpriteBatch.html">SpriteBatch</a></li><li><a href="SpriteRenderer.html">SpriteRenderer</a></li><li><a href="Texture.html">Texture</a></li><li><a href="Time.html">Time</a></li><li><a href="Transform.html">Transform</a></li><li><a href="Vector2.html">Vector2</a></li><li><a href="Vector3.html">Vector3</a></li><li><a href="Vector4.html">Vector4</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Sep 28 2016 16:42:32 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
