<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: gameobject/GameObject.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: gameobject/GameObject.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
* @class
* @classdesc Represents a game object, every entity in our game is a GameObject. This class needs
* the Component class to have functionality, like rendering or physics properties.
*/
var GameObject = function (){
    BaseObject.call(this);
    this.parent = null;
    this.children = [];
    this.components = [];
    this.scene = null;
    this.static = false;
    this.name = null;

    this.transform = null;
};

GameObject.prototype = new BaseObject();
GameObject.prototype.constructor = GameObject;

//----------------------------------------------------------------------

/**
* Returns the game object's transform. This function is more useful than getComponent(Transform)
* because this function avoid the search of the transform component in the components list.
* @returns {Transform} The game object's transform.
*/
GameObject.prototype.getTransform = function (){
	return this.transform;
};

//----------------------------------------------------------------------

/**
* Returns the game object's name.
* @returns {String} The game object's name.
*/
GameObject.prototype.getName = function (){
	return this.name;
};

//----------------------------------------------------------------------

/**
* Sets the game object's name.
* @param {String} name The game object's name.
*/
GameObject.prototype.setName = function (name){
	this.name=name;
};
//----------------------------------------------------------------------

/**
* Returns the game object's parent.
* @returns {GameObject} The game object's parent.
*/
GameObject.prototype.getParent = function (){
	return this.parent;
};

//----------------------------------------------------------------------

/**
* Sets the game object's parent.
* @param {GameObject} parent The game object's parent.
*/
GameObject.prototype.setParent = function (parent){
	this.parent=parent;
};

//----------------------------------------------------------------------

/**
* Sets the game object as static.
* @param {Boolean} bool The boolean value.
*/
GameObject.prototype.setStatic = function (bool){
	this.static = bool;
};

//----------------------------------------------------------------------

/**
* Returns true if the game object is static.
* @returns {Boolean True if the game object is static.
*/
GameObject.prototype.isStatic = function (){
	return this.static;
};

//----------------------------------------------------------------------

/**
* Returns the scene where the game object is.
* @returns {Scene} The scene where the game object is.
*/
GameObject.prototype.getScene = function (){
	return this.scene;
};

//----------------------------------------------------------------------

/**
* Sets the scene where the game object is.
* @param {Scene} scene The scene where the game object is.
*/
GameObject.prototype.setScene = function (scene){
	this.scene=scene;
};

//----------------------------------------------------------------------

/**
* Returns the game object's children.
* @returns {Array} The game object's children.
*/
GameObject.prototype.getChildren = function (){
	return this.children;
};

//----------------------------------------------------------------------

/**
* Sets the game object's children.
* @param {Array} children The game object's children.
*/
GameObject.prototype.setChildren = function (children){
    for (var child of children) {
        child.setParent(this);
    }

	this.children=children;
};

//----------------------------------------------------------------------

/**
* Returns the game object's components.
* @returns {Array} The game object's components.
*/
GameObject.prototype.getComponents = function (){
	return this.components;
};

//----------------------------------------------------------------------

/**
* Enables all the components.
*/
GameObject.prototype.enable = function (){
	for (var component of this.components) {
    component.enable();
  }
};

//----------------------------------------------------------------------

/**
* Disables all the components.
*/
GameObject.prototype.disable = function (){
  for (var component of this.components) {
    component.disable();
  }
};

//----------------------------------------------------------------------

/**
* Adds a child and sets this game object as its parent.
* @param {GameObject} child The child.
*/
GameObject.prototype.addChild = function (child){
  child.setParent(this);
  this.children.push(child);
};

//----------------------------------------------------------------------

// TODO: create function to get only one child ???
// GameObject.prototype.getChild = function (){
//
// };

//----------------------------------------------------------------------

/**
* Adds a component.
* @param {Component} component The component.
*/
GameObject.prototype.addComponent = function (component){

  // TODO: only allow one transform component. What if there are many?
  if( (component instanceof Transform) &amp;&amp; (this.transform === null)){

    this.transform = component;

    component.setGameObject(this);
    this.components.push(component);
  }else {
    component.setGameObject(this);
    this.components.push(component);
  }

};

//----------------------------------------------------------------------

/**
* Returns all the components in this game object and in children.
* @param {function} componentClass The component class.
* @returns {Array} The components.
*/
GameObject.prototype.getAllComponents = function (componentClass){

    var componentList = [];

    component = this.getComponent(componentClass);

    if(component !== null)
      componentList.push(component);

    for (var child of this.children) {
        componentList = componentList.concat(child.getAllComponents(componentClass));
    }



    return componentList;

};

//----------------------------------------------------------------------

/**
* Returns one component in this game object.
* @param {function} componentClass The component class.
* @returns {Component} The components.
*/
GameObject.prototype.getComponent = function (componentClass){

    for (var component of this.components) {

        if(component instanceof componentClass){
            return component;
        }
    }

    return null;
};

//----------------------------------------------------------------------

/**
* Returns all the components in children.
* @param {function} componentClass The component class.
* @returns {Array} The components.
*/
GameObject.prototype.getComponentsInChildren = function (componentClass){
    var componentList = [];

    for (var child of this.children) {
        componentList = componentList.concat(child.getAllComponents(componentClass));
    }

    return componentList;
};

//----------------------------------------------------------------------

/**
* Destroys the game object's children.
*/
GameObject.prototype.destroyChildren = function (){
  for (var child of this.children)
    child.destroy();

};

//----------------------------------------------------------------------

/**
* Destroys the game object's component.
*/
GameObject.prototype.destroyAllComponents = function (){
  for (var component of this.components)
    component.destroy();
};


//----------------------------------------------------------------------

/**
* Destroys the game object.
*/
GameObject.prototype.destroy = function (){
  // this.setParent(null);
  this.disable();
	this.scene.deleteObject(this);
  this.destroyAllComponents();
  this.destroyChildren();
  // this.children = null;
  // this.components = null;
};

//----------------------------------------------------------------------
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Animation.html">Animation</a></li><li><a href="AnimationFrame.html">AnimationFrame</a></li><li><a href="BaseObject.html">BaseObject</a></li><li><a href="Camera.html">Camera</a></li><li><a href="Color.html">Color</a></li><li><a href="Component.html">Component</a></li><li><a href="CubeMesh.html">CubeMesh</a></li><li><a href="DebugRenderer.html">DebugRenderer</a></li><li><a href="Engine.html">Engine</a></li><li><a href="Frustum.html">Frustum</a></li><li><a href="GameObject.html">GameObject</a></li><li><a href="GeometryUtil.html">GeometryUtil</a></li><li><a href="Input.html">Input</a></li><li><a href="LineRenderer.html">LineRenderer</a></li><li><a href="Loader.html">Loader</a></li><li><a href="Material.html">Material</a></li><li><a href="Matrix4.html">Matrix4</a></li><li><a href="Mesh.html">Mesh</a></li><li><a href="MeshRenderer.html">MeshRenderer</a></li><li><a href="OrthoCamera.html">OrthoCamera</a></li><li><a href="PerspectiveCamera.html">PerspectiveCamera</a></li><li><a href="RectangleMesh.html">RectangleMesh</a></li><li><a href="RenderContext.html">RenderContext</a></li><li><a href="RenderEngine.html">RenderEngine</a></li><li><a href="Scene.html">Scene</a></li><li><a href="Shader.html">Shader</a></li><li><a href="SpriteBatch.html">SpriteBatch</a></li><li><a href="SpriteRenderer.html">SpriteRenderer</a></li><li><a href="Texture.html">Texture</a></li><li><a href="Time.html">Time</a></li><li><a href="Transform.html">Transform</a></li><li><a href="Vector2.html">Vector2</a></li><li><a href="Vector3.html">Vector3</a></li><li><a href="Vector4.html">Vector4</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Oct 09 2016 16:33:26 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
